---
title: "MAT02018 - Estatística Descritiva"
subtitle: "Distribuição de Frequências"
fontsize: 10pt
author: |
  | Rodrigo Citton P. dos Reis
  | `citton.padilha@ufrgs.br`
institute: |
  | \textsc{Universidade Federal do Rio Grande do Sul}
  | \textsc{Instituto de Matemática e Estatística}
  | \textsc{Departamento de Estatística}
date: |
  | Porto Alegre, 2022
---

# Introdução

## Introdução {.allowframebreaks}

- Uma contribuição importante da estatística no manejo das informações foi a criação de procedimentos para a organização e o resumo de grandes quantidades de dados.
- A descrição das variáveis é imprescindível como passo prévio para a adequada interpretação dos resultados de uma investigação, e a metodologia empregada faz parte da estatística descritiva.

- Os dados podem ser organizados em \structure{tabelas} ou \structure{gráficos}. Nestas notas de aula, vamos apresentar como organizar a informação em \structure{tabelas de frequências}.

# Distribuição de Frequências

## Distribuição de Frequências {.allowframebreaks}

- Dados nominais, ordinais e discretos, depois de apurados, devem ser organizados em \structure{tabelas de distribuição de frequências}.

- \structure{Frequência de uma categoria (ou valor)} é o número de vezes que essa categoria (ou valor) ocorre no conjunto de dados (uma amostra ou população)\footnote{{\bf Lembrando:} {\bf população} é o conjunto de todos os elementos que apresentam uma ou mais características em comum. Quando o estudo é realizado com toda a população de interesse, chamaremos este estudo de {\bf censo}. Por motivos de tempo, custo, logística, entre outros, geralmente não é possível realizar um censo. Nestes casos, estudamos apenas uma parcela da população, que chamamos de {\bf amostra}. Amostra é qualquer fração de uma população. Como sua finalidade é representar a população, deseja-se que a amostra escolhida apresente as mesmas características da população de origem, isto é, que seja uma amostra {\bf ``representativa''} ou {\bf ``não tendenciosa''}.}.

## Dados nominais {.allowframebreaks}

- Para organizar os dados nominais em uma tabela de distribuição de frequências escreva, na __primeira coluna__, o __nome da variável__ em estudo e logo abaixo, na mesma coluna, as categorias (ou seja, os valores) da variável.
- Na __segunda coluna__, escreva __"Frequência"__, e logo abaixo as frequências das respectivas categorias.

\framebreak

- __Exemplo:__ reveja o exemplo do grupo de 15 empregados da seção de orçamentos da Companhia MB.
    + Anotamos o número de solteiros e casados para organizar os dados em uma tabela de frequências.
    + Para isso, devemos escrever o nome da variável (_Estado civil_) e, em coluna, as categorias (_solteiro_, _casado_).
    + As frequências são 8 empregados solteiros e 7 empregados casados que, somadas, dão um total de 15 empregados.

\framebreak

```{r, echo=FALSE, message=FALSE, warning=FALSE, purl=FALSE}
civil <- c(rep("Solteiro", 8), rep("Casado", 7))

library(summarytools)

civil.tab <- as.data.frame(na.omit(summarytools::freq(civil, order = "freq")))["Freq"]
civil.tab <- data.frame("estado_civil"= row.names(civil.tab), "freq" = civil.tab$Freq)

knitr::kable(civil.tab, col.names = c("Estado civil", "Frequência"))
```

\framebreak

### Observações

1. É comum utilizar a última linha da tabela para expressar o total. Em geral, este deve coincidir com o tamanho do conjunto de dados. Em alguns casos, a variável não foi observada/coletada (_dados ausentes_) para uma ou mais unidades, e portanto, o total deve ser menor que o tamanho do conjunto de dados.
2. Usaremos a \structure{notação $n_i$} para indicar a frequência (absoluta) cada classe, ou categoria, da variável.

## Dados nominais {.allowframebreaks}

### Exercício

- Construa a tabela de distribuição de frequências da variável _Região de procedência_ do exemplo do grupo de 15 empregados da seção de orçamentos da Companhia MB.

## Dados ordinais {.allowframebreaks}

- Dados ordinais devem ser organizados em tabelas de distribuição de frequências.
- Escreva, na primeira coluna, o nome da variável em estudo e, logo abaixo, os nomes das categorias em __ordem crescente__\footnote{Nos referimos a ordem das categorias e não das suas frequências.}.
- As frequências devem estar em outra coluna, mas nas linhas das respectivas categorias.

## Dados ordinais {.allowframebreaks}

- Retornando ao exemplo do grupo de 15 empregados da seção de orçamentos da Companhia MB, considere a variável _Grau de instrução_.
    + O nome da variável e suas categorias foram escritos na primeira coluna e, na segunda coluna, as respectivas frequências.

```{r, echo=FALSE, message=FALSE, warning=FALSE, purl=FALSE}
escola <- factor(x = c(rep("Ensino fundamental", 9), rep("Ensino médio", 5), "Superior"))

escola.tab <- as.data.frame(na.omit(summarytools::freq(escola)))["Freq"]
escola.tab <- data.frame("escola"= row.names(escola.tab), "freq" = escola.tab$Freq)

knitr::kable(escola.tab, col.names = c("Grau de instrução", "Frequência ($n_i$)"))
```

## Dados discretos {.allowframebreaks}

- Dados discretos também são organizados em tabelas de distribuição de frequências.
- Para isso, os valores que a variável pode assumir são colocados na primeira coluna, em __ordem crescente__.
- O número de vezes que cada valor se repete (a frequência) é escrito em outra coluna, nas linhas respectivas aos valores.

\framebreak

- Mais uma vez, retorne ao exemplo da seção de orçamentos da Companhia MB.
    + O número de filhos dos empregados da seção é apresentado a seguir na distribuição de frequências.

```{r, echo=FALSE, message=FALSE, warning=FALSE, purl=FALSE}
filhos <- c(rep(0, 6), rep(1, 4), rep(2, 4), 3)

filhos.tab <- as.data.frame(na.omit(summarytools::freq(filhos)))["Freq"]
filhos.tab <- data.frame("filhos"= row.names(filhos.tab), "freq" = filhos.tab$Freq)

knitr::kable(filhos.tab, col.names = c("Número de filhos", "Frequência ($n_i$)"))
```

## Dados contínuos {.allowframebreaks}

- Dados contínuos podem assumir __diversos valores diferentes__\footnote{Aqui chamamos mais uma vez a atenção para a importância de distinguirmos os diferentes tipos de variáveis. Uma variável \emph{quantitativa contínua} é uma {\bf variável}! E portanto, {\bf pode variar} de um indivíduo para outro! No entanto, a variável \emph{quantitativa contínua} possui um conjunto de valores possíveis {\bf infinito} (um intervalo da reta real), e assim, podemos observar um número de unidades com valores distintos para uma certa variável contínua maior que no caso de uma variável nominal. {\bf Exercício:} compare os valores possíveis para as variáveis {\bf altura} e {\bf estado civil}.}, mesmo em amostras pequenas.
- Por essa razão, a menos que sejam em grande número, são apresentados na forma como foram coletados.

## Dados contínuos {.allowframebreaks}

- Considere, como exemplo, que o pesquisador resolveu organizar as idades dos empregados da seção de orçamentos da Companhia MB em uma tabela. 
- Pode escrever os dados na ordem em que foram coletados, como segue:

```{r, echo=FALSE, message=FALSE, warning=FALSE, purl=FALSE}
idade <- c(26, 32, 36, 20, 40, 28, 41, 43, 34, 23, 33, 27, 37, 44, 30)

idade.tab <- matrix(data = idade, nrow = 3)

knitr::kable(idade.tab, format = "pandoc")
```

\framebreak

- Quando em grande número, os dados contínuos podem ser organizados, para apresentação, em uma tabela de distribuição de frequências.
- Vamos entender como isso é feito por meio de novo exemplo.

\framebreak

- Foram propostas muitas maneiras de avaliar a capacidade de uma criança para o desempenho escolar.
- Algumas crianças estão "prontas" para aprender a escrever aos cinco anos, outras, aos oito anos.
- Imagine que um professor aplicou o _Teste de Desempenho Escolar_ (TDE) a 27 alunos da 1ª série do Ensino Fundamental.
- Os dados obtidos pelo professor estão apresentados em seguida.

```{r, echo=FALSE, message=FALSE, warning=FALSE, purl=FALSE}
tde <- c(7, 18, 111, 25, 101, 85, 81, 75, 100, 95, 98, 108, 100, 94, 34, 99, 84, 90, 95, 102, 96, 105, 100, 107, 117, 96, 17)

tde.tab <- matrix(data = tde, nrow = 3)

knitr::kable(tde.tab, format = "pandoc")
```

\framebreak

- Para __conhecer o comportamento__ do desempenho escolar desses alunos, o professor deve organizar uma __distribuição de frequências__.
- No entanto, para isso, é preciso __agrupar os dados em faixas__, ou __classes__\footnote{Note que se procedermos da mesma forma que procedemos para os casos anteriores, a nossa tabela de distribuição de frequências apresentaria um grande número de valores com baixas frequências. Isso nos daria tanta informação quanto a tabela de dados brutos, e portanto, não nos ajudaria a conhecer o comportamento da variável.}.
    + Em quantas faixas ou classes podem ser agrupados os dados?

## Dados contínuos {.allowframebreaks}

- Uma __regra prática__ é a seguinte: \structure{o número de classes deve ser aproximadamente igual à raiz quadrada do tamanho da amostra.}

$$
\mbox{Número de classes} = \sqrt{n}.
$$

- No exemplo, são 27 alunos.
    + O tamanho da amostra é, portanto, $n = 27$.
    + A raiz quadrada de 27 está entre $5 (\sqrt{25})$ e $6 (\sqrt{36})$. Portanto, podem ser organizadas __cinco classes__.
        - Mas como?

\framebreak

- Observe cuidadosamente o conjunto de dados.
- Ache o __valor mínimo__, o __valor máximo__ e a __amplitude__.

###
- __Valor mínimo__ é o menor valor de um conjunto de dados.
- __Valor máximo__ é o maior valor de um conjunto de dados.
- __Amplitude__ é a diferença entre o valor máximo e o valor mínimo.

## Dados contínuos {.allowframebreaks}

- Para os valores obtidos pelos 27 alunos no Teste de Desempenho Escolar, temos:
    - Valor mínimo $= 7$;
    - Valor máximo $= 117$;
    - Amplitude $= 117 - 7 = 110$.
- Uma vez obtida a amplitude do conjunto de dados, é preciso calcular a \structure{amplitude das classes}.

\framebreak

- \structure{Amplitude de classe} é dada pela divisão da amplitude do conjunto de dados pelo número de classes. 

- Para os dados do TDE, a amplitude ($110$) deve ser dividida pelo número de classes que já foi calculado ($5$):

$$
110 \div 5 = 22.
$$

\framebreak

- A __amplitude de classe__ será, então, $22$. Isso significa que:
    - a primeira classe vai do valor mínimo, $7$ até $7 + 22 = 29$;
    - a segunda classe vai de $29$ a $29 + 22 = 51$;
    - a terceira classe vai de $51$ a $51 + 22 = 73$;
    - a quarta classe vai de $73$ a $73 + 22 = 95$;
    - a quinta classe vai de $95$ a $95 + 22 = 117$, inclusive.
- Os valores que delimitam as classes são denominados \structure{extremos}.

\framebreak

- \structure{Extremos de classe} são os valores que delimitam as classes.

- Uma questão importante é saber __como__ as classes devem ser escritas. Alguém pode pensar em escrever as classes como segue:

\begin{eqnarray*}
7 &-& 28\\
29 &-& 51, \mbox{etc.}\\
\end{eqnarray*}

- No entanto, essa notação traz dúvidas.

\framebreak

- Como saber, por exemplo, para qual classe vai o valor $28,5$?
- Esse tipo de dúvida é evitado indicando as classes como segue:

\begin{eqnarray*}
7 &\vdash& 28\\
29 &\vdash& 51, \mbox{etc.}\\
\end{eqnarray*}

- Usando essa notação, fica claro que o intervalo é \structure{fechado} à esquerda e \structure{aberto} à direita.

\framebreak

- Então, na classe $7\vdash 29$ estão \structure{incluídos} os valores iguais ao extremo inferior da classe, que é $7$ (o intervalo é fechado à esquerda), mas \structure{não estão incluídos} os valores iguais ao extremo superior da classe, que é $29$ (o intervalo é aberto à direita).
    - A indicação de que o intervalo é fechado é dada pelo lado esquerdo do traço vertical do símbolo $\vdash$.
    - A indicação de intervalo aberto é dada pela ausência de traço vertical no lado direito do símbolo $\vdash$.
- Uma alternativa a esta notação é dada por \structure{colchetes} e \structure{parênteses}.

\framebreak

- Considere \structure{$ei$} e \structure{$es$} os \structure{extremos inferior} e \structure{superio}r de uma classe qualquer, respectivamente.
    - "$(ei; es]$", ou "$\dashv$" é um intervalo aberto à esquerda e fechado à direita;
    - "$[ei; es)$", ou "$\vdash$" é um intervalo aberto à direita e fechado à esquerda;
    - "$(ei; es)$", ou "$]ei; es[$", ou "--" é um intervalo aberto;
    - "$[ei; es]$", ou "$\vdash\dashv$" é um intervalo fechado.

\framebreak

- Estabelecidas as classes, é preciso obter as \structure{frequências}.
- Para isso, contam-se quantos alunos estão na classe de $7$ a $29$ \structure{(exclusive)}\footnote{Ou, seja, sem incluir o extremo direito do intervalo de classe; neste caso, o valor 29.}, quantos estão na classe de $29$ a $51$ \structure{(exclusive)}, e assim por diante.

### Apuração

- Aqui uma abordagem poderia ser a criação de uma "nova variável" (transformada) de idade em classes na planilha de dados brutos, e então proceder com a apuração desta "nova variável" como no caso de uma variável qualitativa.
- Afinal de contas, as classes de idade são categorias.
    + Neste caso, categorias de uma variável qualitativa ordinal.

## Dados contínuos {.allowframebreaks}

- A distribuição de frequências pode então ser organizada como segue.

```{r, echo=FALSE, message=FALSE, warning=FALSE, purl=FALSE}
tde.cat <- cut(x = tde,
               breaks = c(7, 29, 51, 73, 95, 117),
               labels = c("7 $\\vdash$ 29", "29 $\\vdash$ 51", 
                          "51 $\\vdash$ 73", "73 $\\vdash$ 95",
                          "95 $\\vdash$ 117"),
               include.lowest = F, right = FALSE)

tde.tab <- as.data.frame(na.omit(summarytools::freq(tde.cat)))["Freq"]
tde.tab <- data.frame("tde"= row.names(tde.tab), "freq" = tde.tab$Freq)

knitr::kable(tde.tab, col.names = c("Classe TDE", "Frequência ($n_i$)"), align = "lc")
```

## Observações {.allowframebreaks}

- Embora a __regra prática__ apresentada aqui para a determinação do número de classes seja útil, ela não é a única forma de determinar classes em uma tabela de frequências para dados contínuos.
- O pesquisador pode especificar as classes de acordo com "convenções".
- É comum vermos as frequências da variável idade serem apresentadas em classes de amplitude 5 ou 10 anos.
- Ainda, podem ser especificadas classes com amplitudes distintas (Idade de 0 a 19 anos, 20 a 59 anos, 60 a 79 anos, 80 anos ou mais). 

\framebreak

- Outro ponto importante é que nem sempre existe interesse em apresentar todas as classes possíveis.
- Em aluns casos, a primeira classe pode incluir todos os elementos menores que determinado valor.
- Diz-se, então, que o extremo inferior da primeira classe não está definido.
- Como exemplo, veja a distribuição de frequências das pessoas conforme a altura, com as seguintes classes:

\begin{eqnarray*}
&& \mbox{Menos de } 150 \mbox{ cm}\\
&& 150\ \vdash 160 \mbox{cm}\\
&& 160\ \vdash 170 \mbox{cm, etc.}\\
\end{eqnarray*}

\framebreak

- Do mesmo modo, todos os elementos iguais ou maiores que determinado valor podem ser agrupados na última classe. 
- Diz-se, então, que o extremo superior da última classe não está definido.

- Muitos dados de idade publicados pelo __Instituto Brasileiro de Geografia e Estatística__ (__IBGE__) estão em tabelas de distribuição de frequências com intervalos de classes diferentes (em relação a amplitude) e não possuem extremo superior definido. 
- Veja o exemplo a seguir.

\framebreak

```{r fig-censo, fig.align='center', fig.cap = "População residente, segundo grupos de idade no Brasil (Censo 2010; https://censo2010.ibge.gov.br/sinopse/index.php?dados=12).", cache=TRUE, echo=FALSE, out.height="70%", out.width='30%', purl=FALSE}
knitr::include_graphics(here::here('images', 'ibge_idade_censo2010.png'))
```

## Para casa

1. Resolver os exercícios 1 a 6 do Capítulo 3.5 do livro __Fundamentos de Estatística__\footnote{Vieira, S. {\bf Fundamentos de Estatística}, Atlas, 2019, pg. 37-38.} (disponível no Sabi+).
2. Para os dados nominais, ordinais, discretos econtínuos do seu levantamento estatístico, construa tabelas de frequências e compartilhe no Fórum Geral do Moodle. Discuta como você definiu as classes e suas amplitudes.

## Próxima aula 

- Distribuição de frequências: __frequências relativa, acumulada, relativa acumulada e porcentagem__.

## Por hoje é só!

\begin{center}
{\bf Bons estudos!}
\end{center}

```{r echo=FALSE, fig.align='center', message=FALSE, warning=FALSE, out.width='50%', out.height='50%', paged.print=FALSE}

knitr::include_graphics(here::here('images', 'Statistically-Insignificant-errorbar.jpg'))

```
