---
title: "MAT02018 - Estatística Descritiva"
subtitle: "Introdução à Estatística"
fontsize: 10pt
author: |
  | Rodrigo Citton P. dos Reis
  | `citton.padilha@ufrgs.br`
institute: |
  | \textsc{Universidade Federal do Rio Grande do Sul}
  | \textsc{Instituto de Matemática e Estatística}
  | \textsc{Departamento de Estatística}
date: |
  | Porto Alegre, 2022
---

# Introdução

## Dados $\leadsto$ Conhecimento

```{r echo=FALSE, fig.align='center', message=FALSE, warning=FALSE, out.width='100%', paged.print=FALSE, purl=FALSE}
knitr::include_graphics(here::here('images', 'dicing_with_death.jpg'))
```

## Dados $\leadsto$ Conhecimento

- Em alguma fase de seu trabalho, o pesquisador depara-se com o problema de __analisar__ e __entender__ um __conjunto de dados__ relevante ao seu particular objeto de estudos. 
- Ele necessitará trabalhar os dados para __transformá-los em informações__, para compará-los com outros resultados, ou ainda para __julgar sua adequação__ a __alguma teoria__.

<!-- ## Dados $\leadsto$ Conhecimento -->

<!-- ### Uma representação -->

<!-- ```{r echo=FALSE, fig.align='center', message=FALSE, warning=FALSE, out.width='100%', out.height='80%', paged.print=FALSE, purl=FALSE} -->
<!-- library(cowplot) -->
<!-- library(ggplot2) -->

<!-- p1 <- ggdraw() + draw_image(here::here('images', 'model.jpg'), scale = 0.9) -->
<!-- p2 <- ggdraw() + draw_image(here::here('images', 'decisionloops2.jpg'), scale = 0.9) -->
<!-- plot_grid(p1, p2) -->
<!-- ``` -->

<!-- ## Dados $\leadsto$ Conhecimento -->

<!-- ### Uma representação mais ousada! -->

<!-- ```{r echo=FALSE, fig.align='center', message=FALSE, warning=FALSE, out.width='100%', paged.print=FALSE, purl=FALSE} -->
<!-- knitr::include_graphics(here::here('images', 'Data-Wisdom.jpg')) -->
<!-- ``` -->

## O Método Científico {.allowframebreaks}

- De modo bem geral, podemos dizer que a essência da Ciência é a __observação__ e que seu objetivo básico é a __inferência__.
    - Os cientistas (sociais ou físicos) geralmente fazem uso do \structure{método científico} nas suas tentativas de compreender o mundo.

```{r echo=FALSE, fig.align='center', message=FALSE, warning=FALSE, out.width='60%', out.height='60%',  paged.print=FALSE, purl=FALSE}
knitr::include_graphics(here::here('images', 'metodo.png'))
```

\framebreak

Suponha que estamos interessados em descrever e explicar o __padrão dos casos de câncer__ em uma área metropolitana.

1. Observação/registro dos casos;
2. Descrição do padrão por meio da apresentação dos casos em um mapa.

```{r echo=FALSE, fig.align='center', message=FALSE, warning=FALSE, out.width='50%',  paged.print=FALSE, purl=FALSE}
knitr::include_graphics(here::here('images', 'mapa_casos.jpg'))
```

\framebreak

3. O que explica o resultado observado?

```{r echo=FALSE, fig.align='center', message=FALSE, warning=FALSE, out.width='50%',  paged.print=FALSE, purl=FALSE}
knitr::include_graphics(here::here('images', 'mapa_clusters.jpg'))
```

4. Formulação de hipóteses/modelos explicativos.

\framebreak

(Exemplo) *Hipótese:* o padrão de casos de câncer está relacionado à distância das usinas de energia locais.

```{r echo=FALSE, fig.align='center', message=FALSE, warning=FALSE, out.width='50%',  paged.print=FALSE, purl=FALSE}
knitr::include_graphics(here::here('images', 'cancer_distancia.png'))
```

5. Os dados fornecem evidências para avaliarmos as hipóteses formuladas.
6. A partir desta avaliação, modelos e hipóteses podem ser reconsiderados, ou conclusões teóricas podem ser elaboradas.

\framebreak

- Os métodos estatísticos ocupam um papel central no método científico, como visto no exemplo dos casos de câncer, pois nos permitem __sugerir__ e __testar__ hipóteses.

<!-- ## O Método Científico -->

<!-- - De modo bem geral, podemos dizer que a essência do Aprendizado (da Evolução). -->

<!-- ```{r echo=FALSE, fig.align='center', message=FALSE, warning=FALSE, out.width='50%', out.height='70%', paged.print=FALSE, purl=FALSE} -->
<!-- knitr::include_graphics(here::here('images', 'metodo_cientifico_bebes.png')) -->
<!-- ``` -->


# A Estatística

## O que é Estatística?

- Essa pergunta já vem sendo feita (e diversas vezes) há muito tempo.
- A persistência da pergunta e a variedade das respostas durante os anos sugerem que a Estatística não se caracteriza como um objeto singular.
- Ainda, a Estatística apresenta diferentes faces para diferentes áreas da ciência.

## Uma perspectiva histórica

- A Estatística mudou drasticamente desde os primeiros dias até o presente, passando de uma profissão que reivindicou uma objetividade extrema que os estatísticos apenas coletariam dados (e não os analisam) para uma profissão que busca parceria com cientistas em todas as etapas da investigação, do planejamento à análise.
- Primeiros censos ocorrem por volta do ano zero da era cristã.
    + Por muito tempo, o aspecto descritivo da Estatística manteve-se como a única faceta desta ciência .
- No século XVII, ocorrem as primeiras interpretações de dados.
    + Em 1693, foram publicados pela primeira vez, em Londres, os totais anuais de falecimentos, estratificados por sexo.
    + Primeiros estudos formais da teoria das probabilidades.

## Uma perspectiva histórica

__Pascal-Fermat (Séc. XVII)__

```{r echo=FALSE, fig.align='center', message=FALSE, warning=FALSE, out.width='100%', paged.print=FALSE, purl=FALSE}

knitr::include_graphics(here::here('images', 'pascal-fermat-mail-2.jpg'))

```

## Uma perspectiva histórica

__Florence Nightingale (Séc. XIX)__

```{r echo=FALSE, fig.align='center', message=FALSE, warning=FALSE, out.width='100%', paged.print=FALSE, purl=FALSE}

knitr::include_graphics(here::here('images', 'florence-chart-2.jpg'))

```

## Uma perspectiva histórica

__Galton-Pearson (Séc. XIX e XX)__

```{r echo=FALSE, fig.align='center', message=FALSE, warning=FALSE, out.width='100%', paged.print=FALSE, purl=FALSE}

knitr::include_graphics(here::here('images', 'pearson-galton.jpg'))

```

## Uma perspectiva histórica

__William S. Gosset, o _Student_ (Séc. XX)__

```{r echo=FALSE, fig.align='center', message=FALSE, warning=FALSE, out.width='100%', paged.print=FALSE, purl=FALSE}

knitr::include_graphics(here::here('images', 'gosset-2.jpg'))

```

## Uma perspectiva histórica

__Ronald A. Fisher (Séc. XX)__

```{r echo=FALSE, fig.align='center', message=FALSE, warning=FALSE, out.width='100%', paged.print=FALSE, purl=FALSE}

knitr::include_graphics(here::here('images', 'Fisher-2.jpg'))

```

## Uma perspectiva histórica

\begin{center}
{\bf Essa história continua!}

Para saber mais, veja:
\end{center}

```{r echo=FALSE, fig.align='center', message=FALSE, warning=FALSE, out.width='100%', paged.print=FALSE, purl=FALSE}

knitr::include_graphics(here::here('images', 'livros-hist.jpg'))

```

## O papel da estatística na pesquisa

- No \structure{planejamento}, auxilia na escolha de situações experimentais e na determinação da quantidade de indivíduos a serem examinados.
- Na \structure{análise}, indica técnicas  para resumir e apresentar as informações, bem como para comparar as situações experimentais.
- Na \structure{elaboração das conclusões}, os vários métodos estatísticos permitem generalizar a partir dos resultados obtidos.
- De modo geral, não existe certeza sobre a correção das conclusões científicas; no entanto, os métodos estatísticos permitem determinar a margem de erro associada às conclusões, com base no conhecimento da variabilidade observada nos resultados.

## O que é a estatística?

- A __estatística__\footnote{Do grego  \emph{statistós}, de \emph{statízo}, \textbf{``estabelecer''}, \textbf{``verificar''}, acrescido do sufixo \emph{ica}.} é a ciência que tem por objetivo orientar a coleta, o resumo, a apresentação, a análise e a interpretação de dados.
- Podem ser identificadas duas grandes áreas de atuação desta ciência:
    + a __estatística descritiva__, envolvida com o resumo e a apresentação dos dados.
    + a __estatística inferencial__, que ajuda a concluir sobre conjuntos maiores de dados (populações) quando apenas partes desses conjuntos (as amostras) foram estudadas.
<!-- - Mais do que uma sequência de métodos, a estatística é uma forma de pensar ou de ver a realidade variável, já que seu conhecimento não apenas fornece um conjunto de técnicas de análise de dados, mas condiciona toda uma postura crítica sobre sua interpretação e a elaboração de conclusões sobre os dados. -->

## O que é a estatística?

```{r echo=FALSE, fig.align='center', message=FALSE, warning=FALSE, out.width='100%', out.height='80%', paged.print=FALSE, purl=FALSE}
knitr::include_graphics(here::here('images', 'Descritiva_Inferencia.png'))
```

# A Estatística Descritiva

## O que é a estatística descritiva?

- A __Estatística Descritiva__ corresponde aos procedimentos relacionados com a \structure{coleta}, \structure{elaboração}, \structure{tabulação}, \structure{análise}, \structure{interpretação} e \structure{apresentação} dos \structure{dados}.
- Isto é, inclui as técnicas que dizem respeito à sintetização e à descrição de dados numéricos.
- Estas técnicas podem ser utilizadas em pelo menos dois contextos
    + Análise da \structure{consistência dos dados}.
    + \structure{Análise Exploratória de Dados} (_Exploratory Data Analysis_ - EDA)\footnote{Tukey, J. W. \emph{Exploratory data analysis}, Reading:Addison-Wesley, 1977.}.
- Tais métodos tanto podem ser gráficos como envolver análise computacional.

## Alguns exemplos

\footnotesize
Descriptive Statistics

tobacco  

**N:** 1000  

```{r echo=FALSE, message=FALSE, warning=FALSE, purl=FALSE, results='asis'}
library(summarytools)

descr(tobacco, style = 'rmarkdown', headings = F)
```

## Alguns exemplos

```{r echo=FALSE, message=FALSE, warning=FALSE, purl=FALSE, results='asis'}
freq(tobacco$gender, style = 'rmarkdown', headings = F)
```

## Alguns exemplos

```{r echo=FALSE, fig.align='center', message=FALSE, warning=FALSE, out.width='95%', paged.print=FALSE}
# Considerações finais: exemplos
# install.packages("jpeg")
# install.packages("grid")
library(jpeg)
library(grid)
library(gapminder)
library(dplyr)
library(ggplot2)

gapminder <- gapminder %>%
  mutate(pop_m = pop/1e6)

gapminder07 <- gapminder %>%
  filter(year == 2007)

img <- readJPEG(here::here("images", "hans_rosling.jpg"))

# start plotting
p <- ggplot(data = gapminder07,
            mapping = aes(x = gdpPercap, y = lifeExp,
                          color = continent, size = pop_m)) + 
  annotation_custom(rasterGrob(img, width = unit(1, "npc"),
                               height = unit(1, "npc")),
                    -Inf, Inf, -Inf, Inf) +
  scale_y_continuous(expand = c(0,0), 
                     limits = c(min(gapminder07$lifeExp) * 0.9, max(gapminder07$lifeExp) * 1.05)) +
  geom_point() +
  labs(x = "Renda per capita (US$)",
       y = "Expectativa de vida (anos)",
       color = "Continente", size = "População/1 milhão") +
  theme_bw() +
  theme(text = element_text(color = "gray20"),
        legend.position = c("top"), # posição da legenda
        legend.direction = "horizontal",
        legend.justification = 0.1, # ponto de ancora para legend.position.
        legend.text = element_text(size = 11, color = "gray10"),
        axis.text = element_text(face = "italic"),
        axis.title.x = element_text(vjust = -1),
        axis.title.y = element_text(vjust = 2), 
        axis.ticks.y = element_blank(), # element_blank() é como removemos elementos
        axis.line = element_line(color = "gray40", size = 0.5),
        axis.line.y = element_blank(),
        panel.grid.major = element_line(color = "gray50", size = 0.5),
        panel.grid.major.x = element_blank()
  )
p
```

# Conceitos básicos: introdução aos delineamentos de estudos

## Unidades experimentais e observacionais

- __Unidade experimental__ ou __unidade de observação__ é a menor unidade a fornecer informação.
    + __Ex:__ alunos, pacientes, animais, plantas, carros, hospitais, escolas, cidades, universidades, países, _tweets_, etc.

### Crash course de inferência causal

__Qual o melhor tratamento para o choque séptico?__

Dois tipos de estudo podem ser conduzidos para responder a esta questão de pesquisa:

1. Em um \structure{experimento aleatorizado} (_randomized trial_), uma moeda justa é lançada repetidamente para designar o tratamento de cada paciente.
2. Um \structure{estudo observacional} é uma investigação empírica em que o objetivo é elucidar relações de causa e efeito, em que não é factível o uso de experimentação controlada, no sentido de ser capaz de impor procedimentos ou tratamentos cujos os efeitos se deseja descobrir.

## Experimentos: exemplo

- "O chá servido sobre o leite parecia ficar com gosto diferente do que apresentava ao receber o leite sobre ele"\footnote{Salsburg, D. \emph{Uma senhora toma chá $\ldots$ como a estatística revolucionou a ciência no século XX}, Zahar, 2009.}.

```{r echo=FALSE, fig.align='center', message=FALSE, warning=FALSE, out.width='70%', out.height='60%', paged.print=FALSE, purl=FALSE}
knitr::include_graphics(here::here('images', 'uma_senhora_toma_cha.jpg'))
```

## Estudos observacionais: exemplo

- "O __Ministério da Saúde__ adverte: __fumar pode causar câncer de pulmão__”\footnote{Salsburg, D. \emph{Uma senhora toma chá $\ldots$ como a estatística revolucionou a ciência no século XX}, Zahar, 2009.}.

```{r echo=FALSE, fig.align='center', message=FALSE, warning=FALSE, out.width='70%', paged.print=FALSE, purl=FALSE}
knitr::include_graphics(here::here('images', 'smokingAndLungCancer2.jpg'))
```

## Para casa

- Ler o capítulo 1 do livro _"Uma Senhora Toma Chá"_ \structure{(Moodle)}.
<!-- 1. Elabore uma questão de pesquisa de seu interesse (como você imagine ser possível de responder através da coleta/organização/análise de dados). -->
<!-- 2. Apresente a sua questão no Fórum Geral do Moodle. -->
<!-- 3. Discuta a respeito da sua questão de pesquisa com os colegas. Discuta as questões apresentadas pelos colegas. -->

## Próxima aula

- Introdução e conceitos básicos de Estatística (continuação).

## Por hoje é só!

\begin{center}
{\bf Bons estudos!}
\end{center}

```{r echo=FALSE, fig.align='center', message=FALSE, warning=FALSE, out.width='50%', out.height='50%', paged.print=FALSE}

knitr::include_graphics(here::here('images', 'Statistically-Insignificant-ff.jpg'))

```

